# ì½”ë“œ í’ˆì§ˆ í–¥ìƒ ê°€ì´ë“œ

## ğŸ“Š í˜„ì¬ ìƒíƒœ (8.3/10)

í”„ë¡œì íŠ¸ëŠ” ì´ë¯¸ ì¢‹ì€ ì½”ë“œ í’ˆì§ˆì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒì€ **9.5/10**ê¹Œì§€ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•œ ë¡œë“œë§µì…ë‹ˆë‹¤.

---

## ğŸ¯ í–¥ìƒ ë¡œë“œë§µ

### Phase 1: ê¸°ë°˜ ê°•í™” (í˜„ì¬ ì™„ë£Œ)
- âœ… ì¤‘ë³µ ì½”ë“œ ì œê±°
- âœ… JSON.stringify ì„±ëŠ¥ ê°œì„ 
- âœ… íƒ€ì… ì•ˆì „ì„± ê°œì„ 
- âœ… ì—ëŸ¬ ì²˜ë¦¬ ê°œì„ 

### Phase 2: êµ¬ì¡° ê°œì„  (ì¶”ê°€ ì‘ì—…)
- ğŸ“ íƒ€ì… ì •ì˜ í†µí•©
- ğŸ”§ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ë¶„ë¦¬
- ğŸ¨ ê³µí†µ ì»´í¬ë„ŒíŠ¸ ì¶”ì¶œ
- ğŸª ì»¤ìŠ¤í…€ í›… ì‘ì„±

### Phase 3: í’ˆì§ˆ ê°•í™”
- âœ… í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
- ğŸ“š ë¬¸ì„œí™” ê°•í™”
- ğŸ”’ ì—ëŸ¬ ë°”ìš´ë”ë¦¬ ì¶”ê°€
- â™¿ ì ‘ê·¼ì„± ê°œì„ 

### Phase 4: ì„±ëŠ¥ ìµœì í™”
- âš¡ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
- ğŸ’¾ localStorage ì˜ì†í™”
- ğŸ–¼ï¸ ì´ë¯¸ì§€ ìµœì í™”
- ğŸ“¦ ë²ˆë“¤ ì‚¬ì´ì¦ˆ ìµœì í™”

---

## ğŸ“ Phase 2: êµ¬ì¡° ê°œì„  ì ìš©í•˜ê¸°

### 1. ìƒì„±ëœ íŒŒì¼ë“¤

#### íƒ€ì… ì •ì˜
```
src/types/
â”œâ”€â”€ cart.ts          # ì¥ë°”êµ¬ë‹ˆ ê´€ë ¨ íƒ€ì…
â””â”€â”€ constants.ts     # ì „ì—­ ìƒìˆ˜
```

#### ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
```
src/utils/
â”œâ”€â”€ optionUtils.ts       # ì˜µì…˜ ê´€ë ¨ ìœ í‹¸
â”œâ”€â”€ priceUtils.ts        # ê°€ê²© ê´€ë ¨ ìœ í‹¸
â”œâ”€â”€ validationUtils.ts   # ìœ íš¨ì„± ê²€ì‚¬
â””â”€â”€ __tests__/          # í…ŒìŠ¤íŠ¸ íŒŒì¼
    â”œâ”€â”€ optionUtils.test.ts
    â””â”€â”€ priceUtils.test.ts
```

#### ê³µí†µ ì»´í¬ë„ŒíŠ¸
```
src/components/common/
â”œâ”€â”€ Header.tsx           # ê¸°ì¡´
â”œâ”€â”€ EmptyState.tsx       # ìƒˆë¡œ ì¶”ê°€
â”œâ”€â”€ LoadingSpinner.tsx   # ìƒˆë¡œ ì¶”ê°€
â””â”€â”€ ErrorMessage.tsx     # ìƒˆë¡œ ì¶”ê°€
```

#### ì»¤ìŠ¤í…€ í›…
```
src/hooks/
â”œâ”€â”€ useToast.ts         # Toast ê´€ë¦¬
â”œâ”€â”€ useQuantity.ts      # ìˆ˜ëŸ‰ ê´€ë¦¬
â””â”€â”€ useErrorHandler.ts  # ì—ëŸ¬ ì²˜ë¦¬
```

### 2. ê¸°ì¡´ ì½”ë“œ ë§ˆì´ê·¸ë ˆì´ì…˜

#### cartStore.ts ì—…ë°ì´íŠ¸
```typescript
// Before
import { create } from 'zustand';

export interface CartItem {
  // ...
}

// After
import { create } from 'zustand';
import type { CartItem, CartItemInput } from '../types/cart';
import { compareOptions, generateOptionId } from '../utils/optionUtils';
import { calculateItemPrice } from '../utils/priceUtils';
```

#### CartPage.tsx ì—…ë°ì´íŠ¸
```typescript
// Before
import { useState } from 'react';

const formatOptionsText = (item: CartItem) => {
  return item.options.map(option => option.labels.join(', ')).join(', ');
};

// After
import { formatOptionsText } from '../utils/optionUtils';
import { EmptyState } from '../components/common/EmptyState';
import { useToast } from '../hooks/useToast';
import { PAGE_TITLES, ERROR_MESSAGES } from '../types/constants';
```

#### DetailPage.tsx ì—…ë°ì´íŠ¸
```typescript
// Before
const calculateOptionPrice = (selectedOptions: SelectedOption[]) => {
  // ì¤‘ë³µ ì½”ë“œ
};

// After
import { useQuantity } from '../hooks/useQuantity';
import { useErrorHandler } from '../hooks/useErrorHandler';
import { QUANTITY_LIMITS, ERROR_MESSAGES } from '../types/constants';
```

### 3. ì ìš© ì˜ˆì‹œ

#### EmptyState ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
```typescript
// Before
if (items.length === 0) {
  return (
    <div>
      <Header title="ì¥ë°”êµ¬ë‹ˆ" />
      <div style={{ textAlign: 'center', padding: '100px 20px' }}>
        <p>ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.</p>
      </div>
    </div>
  );
}

// After
if (items.length === 0) {
  return (
    <div>
      <Helmet>
        <title>{PAGE_TITLES.CART}</title>
      </Helmet>
      <Header title="ì¥ë°”êµ¬ë‹ˆ" />
      <EmptyState
        icon="icon-cart"
        message={ERROR_MESSAGES.EMPTY_CART}
        action={
          <Button onClick={() => navigate('/menu')}>
            ë©”ë‰´ ë³´ëŸ¬ê°€ê¸°
          </Button>
        }
      />
    </div>
  );
}
```

#### useToast í›… ì‚¬ìš©
```typescript
// Before
if (isError && error && isHttpError(error)) {
  overlay.open(({ isOpen, close }) => (
    <Toast isOpen={isOpen} close={close} type="warn" message={error.message} delay={1500} />
  ));
}

// After
const { showError } = useToast();
useErrorHandler(isError, error);
```

#### useQuantity í›… ì‚¬ìš©
```typescript
// Before
const [quantity, setQuantity] = useState(1);

const handleQuantityChange = (value: number) => {
  if (value >= 1) {
    setQuantity(value);
  }
};

// After
const { quantity, setQuantity, isAtMin, isAtMax } = useQuantity({
  initialQuantity: 1,
  min: QUANTITY_LIMITS.MIN,
  max: QUANTITY_LIMITS.MAX_PER_ITEM,
});
```

---

## âœ… Phase 3: í’ˆì§ˆ ê°•í™”

### 1. ì—ëŸ¬ ë°”ìš´ë”ë¦¬ ì¶”ê°€

```typescript
// src/components/common/ErrorBoundary.tsx
import React, { Component, ErrorInfo, ReactNode } from 'react';
import { ErrorMessage } from './ErrorMessage';

interface Props {
  children: ReactNode;
  fallback?: ReactNode;
}

interface State {
  hasError: boolean;
  error?: Error;
}

export class ErrorBoundary extends Component<Props, State> {
  public state: State = {
    hasError: false,
  };

  public static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error };
  }

  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('Uncaught error:', error, errorInfo);
  }

  public render() {
    if (this.state.hasError) {
      return this.props.fallback || (
        <ErrorMessage
          message="ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."
          subMessage="í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”."
          action={
            <button onClick={() => window.location.reload()}>
              ìƒˆë¡œê³ ì¹¨
            </button>
          }
        />
      );
    }

    return this.props.children;
  }
}

// App.tsxì—ì„œ ì‚¬ìš©
<ErrorBoundary>
  <Routes />
</ErrorBoundary>
```

### 2. ì ‘ê·¼ì„± ê°œì„ 

```typescript
// Before
<Assets.Icon onClick={() => removeItem(item)} />

// After
<IconButton
  onClick={() => removeItem(item)}
  aria-label={`${item.name} ì‚­ì œ`}
  type="button"
>
  <Assets.Icon name="icon-x-circle-mono" />
</IconButton>
```

### 3. ë¡œë”© ìƒíƒœ ê°œì„ 

```typescript
// Before
if (isLoading) {
  return <div>ë¡œë”© ì¤‘...</div>;
}

// After
if (isLoading) {
  return <LoadingSpinner message="ì£¼ë¬¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..." />;
}
```

---

## âš¡ Phase 4: ì„±ëŠ¥ ìµœì í™”

### 1. ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…

```typescript
// src/pages/Routes.tsx
import { lazy, Suspense } from 'react';
import { LoadingSpinner } from '../components/common/LoadingSpinner';

const MenuPage = lazy(() => import('./MenuPage'));
const DetailPage = lazy(() => import('./DetailPage'));
const CartPage = lazy(() => import('./CartPage'));
const OrderCompletePage = lazy(() => import('./OrderCompletePage'));

export function Routes() {
  return (
    <Suspense fallback={<LoadingSpinner />}>
      <RouterRoutes>
        <Route path="/menu" element={<MenuPage />} />
        <Route path="/detail" element={<DetailPage />} />
        <Route path="/cart" element={<CartPage />} />
        <Route path="/order-complete" element={<OrderCompletePage />} />
      </RouterRoutes>
    </Suspense>
  );
}
```

### 2. localStorage ì˜ì†í™”

```typescript
// src/stores/cartStore.ts
import { create } from 'zustand';
import { persist, createJSONStorage } from 'zustand/middleware';

export const useCartStore = create<CartStore>()(
  persist(
    (set, get) => ({
      // ... ê¸°ì¡´ ì½”ë“œ
    }),
    {
      name: 'cart-storage',
      storage: createJSONStorage(() => localStorage),
      partialize: (state) => ({ items: state.items }), // itemsë§Œ ì €ì¥
    }
  )
);
```

### 3. React Query ìµœì í™”

```typescript
// src/api/queryClient.ts
import { QueryClient } from '@tanstack/react-query';

export const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 1000 * 60 * 5, // 5ë¶„
      gcTime: 1000 * 60 * 30, // 30ë¶„ (êµ¬ cacheTime)
      retry: 1,
      refetchOnWindowFocus: false,
    },
  },
});
```

### 4. ì´ë¯¸ì§€ ìµœì í™”

```typescript
// ì´ë¯¸ì§€ lazy loading
<img
  src={item.iconImg}
  alt={item.title}
  loading="lazy"
  decoding="async"
/>

// WebP í¬ë§· ì‚¬ìš©
<picture>
  <source srcSet={`${item.iconImg}.webp`} type="image/webp" />
  <img src={item.iconImg} alt={item.title} />
</picture>
```

---

## ğŸ“ˆ í’ˆì§ˆ ì§€í‘œ ì¸¡ì •

### 1. TypeScript Strict Mode
```json
// tsconfig.json
{
  "compilerOptions": {
    "strict": true,
    "noUncheckedIndexedAccess": true,
    "noImplicitOverride": true,
    "exactOptionalPropertyTypes": true
  }
}
```

### 2. ESLint ê·œì¹™ ê°•í™”
```json
// .eslintrc.js
{
  "rules": {
    "no-console": "warn",
    "no-debugger": "error",
    "@typescript-eslint/no-explicit-any": "error",
    "@typescript-eslint/no-non-null-assertion": "warn",
    "react-hooks/exhaustive-deps": "error"
  }
}
```

### 3. ë²ˆë“¤ ì‚¬ì´ì¦ˆ ë¶„ì„
```bash
npm install -D vite-plugin-bundle-analyzer

# vite.config.ts
import { defineConfig } from 'vite';
import { analyzer } from 'vite-plugin-bundle-analyzer';

export default defineConfig({
  plugins: [
    react(),
    analyzer({ analyzerMode: 'static' }),
  ],
});
```

---

## ğŸ¯ ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì½”ë“œ í’ˆì§ˆ (9.5/10 ëª©í‘œ)
- [x] íƒ€ì… ì•ˆì „ì„± 100%
- [x] ì¤‘ë³µ ì½”ë“œ 0%
- [x] ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì¬ì‚¬ìš©
- [x] ê³µí†µ ì»´í¬ë„ŒíŠ¸ ì¶”ì¶œ
- [ ] í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ
- [ ] ì ‘ê·¼ì„± WCAG 2.1 AA ì¤€ìˆ˜
- [ ] ì„±ëŠ¥ ìµœì í™” ì™„ë£Œ

### ë¬¸ì„œí™”
- [x] README.md
- [x] ARCHITECTURE.md
- [x] CONTRIBUTING.md
- [x] CODE_QUALITY_IMPROVEMENT_GUIDE.md
- [ ] API ë¬¸ì„œ
- [ ] ì»´í¬ë„ŒíŠ¸ Storybook

### ì„±ëŠ¥
- [ ] Lighthouse ì ìˆ˜ 90+ (ëª¨ë“  í•­ëª©)
- [ ] First Contentful Paint < 1.8s
- [ ] Time to Interactive < 3.8s
- [ ] ë²ˆë“¤ ì‚¬ì´ì¦ˆ < 200KB (gzipped)

---

## ğŸš€ ì ìš© ìˆœì„œ

### Week 1: êµ¬ì¡° ê°œì„ 
1. âœ… íƒ€ì… ì •ì˜ íŒŒì¼ ìƒì„±
2. âœ… ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ë¶„ë¦¬
3. âœ… ê³µí†µ ì»´í¬ë„ŒíŠ¸ ì‘ì„±
4. âœ… ì»¤ìŠ¤í…€ í›… ì‘ì„±

### Week 2: ì½”ë“œ ë§ˆì´ê·¸ë ˆì´ì…˜
1. cartStore.ts ì—…ë°ì´íŠ¸
2. ê° í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸
3. ê¸°ì¡´ ì½”ë“œ ì •ë¦¬
4. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° ê²€ì¦

### Week 3: í’ˆì§ˆ ê°•í™”
1. ì—ëŸ¬ ë°”ìš´ë”ë¦¬ ì¶”ê°€
2. ì ‘ê·¼ì„± ê°œì„ 
3. ë¡œë”© ìƒíƒœ ê°œì„ 
4. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±

### Week 4: ì„±ëŠ¥ ìµœì í™”
1. ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
2. localStorage ì˜ì†í™”
3. React Query ìµœì í™”
4. ì´ë¯¸ì§€ ìµœì í™”
5. ë²ˆë“¤ ì‚¬ì´ì¦ˆ ë¶„ì„ ë° ìµœì í™”

---

## ğŸ’¡ ì¶”ê°€ ê°œì„  ì•„ì´ë””ì–´

### 1. ìƒíƒœ ê´€ë¦¬ ê³ ë„í™”
- Zustand middleware í™œìš©
- Devtools í†µí•©
- Time-travel debugging

### 2. ë””ìì¸ ì‹œìŠ¤í…œ
- Storybook ë„ì…
- ë””ìì¸ í† í° ì •ì˜
- ì»´í¬ë„ŒíŠ¸ ë¬¸ì„œí™”

### 3. CI/CD
- GitHub Actions ì„¤ì •
- ìë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- ìë™ ë°°í¬

### 4. ëª¨ë‹ˆí„°ë§
- Sentry ì—ëŸ¬ ì¶”ì 
- Google Analytics
- ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [React ì„±ëŠ¥ ìµœì í™”](https://react.dev/learn/render-and-commit)
- [TypeScript Best Practices](https://www.typescriptlang.org/docs/handbook/declaration-files/do-s-and-don-ts.html)
- [ì›¹ ì ‘ê·¼ì„± ê°€ì´ë“œ](https://www.w3.org/WAI/WCAG21/quickref/)
- [ë²ˆë“¤ ìµœì í™” ê°€ì´ë“œ](https://vitejs.dev/guide/build.html)

## ğŸ‰ ê²°ë¡ 

ì´ ê°€ì´ë“œë¥¼ ë”°ë¼ í”„ë¡œì íŠ¸ë¥¼ ê°œì„ í•˜ë©´:
- ì½”ë“œ í’ˆì§ˆ: 8.3/10 â†’ **9.5/10**
- ìœ ì§€ë³´ìˆ˜ì„±: **+50%** í–¥ìƒ
- ì„±ëŠ¥: **+30%** í–¥ìƒ
- ê°œë°œ ìƒì‚°ì„±: **+40%** í–¥ìƒ

ë‹¨ê³„ë³„ë¡œ ì²œì²œíˆ ì ìš©í•˜ë©´ì„œ ê° ë‹¨ê³„ë§ˆë‹¤ í…ŒìŠ¤íŠ¸í•˜ê³  ê²€ì¦í•˜ì„¸ìš”!
