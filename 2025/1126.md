# 업무 일지 - 2024.11.26

## 프로젝트: 통근버스 앱 마이그레이션 (JSP/Node.js → React + Framework7 + Java)

### 1. 베타 테스트 준비
- **현황**: iOS 앱 베타 테스트 준비 단계 진입
- **체크리스트**:
  - 기능 동등성 검증 (기존 앱 대비)
  - 실시간 GPS 및 푸시 알림 안정성 확인
  - iOS 특화 이슈 (백그라운드 동작, 권한)
  - Framework7 UI/UX 검증
  - 성능 및 메모리 누수 체크
  - 데이터 동기화 검증

### 2. HTML 엔티티 디코딩 문제 해결
- **문제**: 웹에서 작성한 답글의 특수문자가 앱에서 `&#46;` 형태로 표시됨
- **해결**: `decodeHtmlEntities` 유틸 함수 생성 및 적용
- **적용 대상**: 
  - 민원 내용 (`complaint.complainContent`)
  - 답변 내용 (`complaint.answerContent`)
  - 예금주명 (`complaint.refund.bankUserName`)
  - 첨부파일명 (`complaint.attachFileName`)
- **추가 개선**: `whitespace-pre-wrap` CSS와 함께 사용하여 줄바꿈 유지
- **파일**: `src/pages/ComplaintPage.tsx`

### 3. 셔틀 노선 UI/UX 분기 처리
- **목적**: 셔틀 노선(routeTypeCode === '00003')은 정류장 알림 기능이 없으므로 사용자 경험 차별화
- **변경 사항**:
  - FavoriteButton 컴포넌트에 `isShuttle` prop 추가
  - 이용 노선 추가 시 다이얼로그 메시지 분기
    - 일반 노선: "정류장을 선택하고 알림을 설정할까요?" (홈으로/정류장보기 버튼)
    - 셔틀 노선: "이용 노선으로 추가되었어요." (확인 버튼)
  - 이용 노선 해제 시 메시지 간소화
    - 일반 노선: 정류장 알림 함께 해제 안내
    - 셔틀 노선: 간단한 해제 확인 메시지
- **파일**: 
  - `components/FavoriteButton.tsx`
  - `pages/RouteDetailPage.tsx`

### 4. 다이얼로그 버튼 스타일링
- **작업**: 다이얼로그 취소/확인 버튼 디자인 개선
  - 은은한 테두리 추가 (`rgba(0, 0, 0, 0.06)`)
  - Primary/Secondary 버튼 계층 구조 개선
  - CSS 변수 활용한 일관된 디자인 적용
- **파일**: Framework7 커스텀 CSS

---

## 프로젝트: 개인정보처리방침 페이지 마이그레이션

### CSS 우선순위 충돌 문제 해결
- **문제**: 다른 프로젝트에 HTML 페이지 적용 시 기존 CSS와 충돌
  - 폰트 및 그리드 레이아웃 스타일이 제대로 적용되지 않음
  - 텍스트 줄바꿈 현상 발생 (폰트 크기 변경으로 인한 넘침)

- **해결 방법**:
  1. 주요 스타일에 `!important` 플래그 추가
     - body 폰트: Pretendard Variable
     - 그리드 레이아웃: `.pt_list1` (30% 20% 50% 컬럼)
  
  2. 폰트 크기 명시적 지정
     ```css
     .pt_li1 { font-size: 15px !important; }
     .pt_li2 { font-size: 16px !important; }
     .pt_li3 .pt_box2 a { font-size: 14px !important; }
     ```
  
  3. 모바일 반응형 대응 (768px 이하 1열 레이아웃)

- **결과**: 개인정보처리방침 페이지가 다른 프로젝트에서도 정상 표시

---

## 다음 작업
- [ ] 베타 테스트 시나리오 작성
- [ ] 실제 테스트 환경에서 엔티티 디코딩 검증
- [ ] 다이얼로그 버튼 최종 디자인 확정 및 적용
