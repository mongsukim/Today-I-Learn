## ğŸ“† 2022-06-16 (ëª©) TIL

### ğŸ”¥ ì˜¤ëŠ˜ í•œ ì¼ <br>

## VisualPrinting

ì–´ì œì˜ ë¬¸ì œëŠ” í•´ê²°í–ˆì§€ë§Œ zustandì˜ ê°œë…ì´ ì•„ì§ ë‚¯ì„¤ë‹¤.  
ì „ì—­ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì“°ê¸° ìœ„í•´ì„œ ì—¬ëŸ¬ ë°©ë²•ì„ ê°•êµ¬í–ˆì§€ë§Œ    
ê²°êµ­ì€ ì¡°ì–¸ì„ ë°›ì•„ì•¼ í–ˆë‹¤.  

```setVisualPrintingStls```ì„ ìƒˆë¡œ ë§Œë“¤ì—ˆë‹¤.
  
  
stlStore.ts  

```js
import create from "zustand";
import {StlStore} from "./types";
import axios from "axios";
import {VisualPrintingStls} from "../api/hooks/types";


export const useStlStore = create<StlStore>(set => ({ 
    visualPrintingStls: null,
fetchVisualPrintingStls: async (id) => {
        try {
            const {data} = await axios.get<VisualPrintingStls>(`/api/visualPrintings/${id}/stls`)
             if (data) {
                set({
                    visualPrintingStls: data.stls
                })
            }
            
        } catch (err) {
            console.error(err)
        }
    },
    setVisualPrintingStls: (data) => set({visualPrintingStls: data})

```


EditMenu.tsx

```js
    const visualPrintingStls = useStlStore((state) => state.visualPrintingStls)
    const selectedIndex = useStlStore((state) => state.selectedIndex)
    const setVisualPrintingStls = useStlStore((state) => state.setVisualPrintingStls)



 const handleColor = (color: string, index:number) => {
        setColor(color)
        if(visualPrintingStls){
            const copy = [...visualPrintingStls]
        copy[selectedIndex].color = color
            setVisualPrintingStls(copy)
        }
    }


```

StlRenderingResoutce.tsx

```js
{data &&
                        stl.map((stl, idx) =>
                            <mesh onClick={(e) => handleClick(e, idx)} 
                                key={idx}
                                castShadow receiveShadow geometry={stl}>
                                <meshStandardMaterial 
                                     color={data[idx].color}
                                     transparent opacity={ 
                                        data[idx].opacity
                                    }
                                />
                            </mesh>
                        )
                    }
```


## Cafe project

> sass ì•ˆë˜ë˜ ë¬¸ì œ ìˆ˜ì •  
 ì„¸íŒ…ë˜ì–´ìˆë˜ í™˜ê²½ë§Œ ì¨ë³´ë‹¤ê°€,   
 ì²˜ìŒë¶€í„° ì„¸íŒ…í•´ë´¤ëŠ”ë° ì¢€ ë§‰í˜”ì—ˆë‹¤.
ê²½ë¡œ ì„¤ì •ì´ ë¬¸ì œì˜€ëŠ”ë°, ì´ë ‡ê²Œ ì„¸íŒ…í•˜ì˜€ë‹¤. 


node-sassë¥¼ ì„¤ì¹˜í•˜ê³ , package.jsonì— ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •ì„ í•œë‹¤.   
scssê°€ cssë¡œ ì»´íŒŒì¼ë˜ë„ë¡, ê²½ë¡œì„¤ì •ì„ ê¼¼ê¼¼íˆ í™•ì¸í•œë‹¤.  

```js
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "node-sass": "node-sass",
    "sass": "node-sass -wr --source-map true src/styles/main.scss src/style.css",
    "test": "echo \"Error: no test specified\" && exit 1",
    "eject": "react-scripts eject"
  },

```



ì»´í¬ë„ŒíŠ¸ê°€ ì„ ì–¸ëœ js(tsx) íŒŒì¼ì— import ë¥¼ í•œë‹¤.   
Styles from.. ë“±ì€ ì“°ì§€ ì•ŠëŠ”ë‹¤.  

Menu.tsx
```js
import '../styles/main.scss'

```

 jsx ë¶€ë¶„ì—” className ì†ì„±ì„ ì“´ë‹¤. 

```js
    <div className="mainbox">

```
